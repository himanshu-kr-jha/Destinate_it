<style>
    .search-btn {
        background-color: #fe424d;
        color: white;
        border-radius: 25px !important;
        margin-right: 0.5rem;
    }

    .search-inp {
        border-radius: 25px;
        /* padding-left: 1rem; */
        height: 30px;
        font-size: 0.875rem;
        /* padding: 0.25rem 0.75rem; */
        border: 1px solid #ddd;
        transition: width 0.3s ease, opacity 0.3s ease;
        /* Smooth width and opacity transition */
        width: 15rem;
        opacity: 1;
    }

    .search-inp::placeholder {
        font-size: 0.75rem;
        color: #888;
    }

    .hide {
        display: none;
        width: 0;
        opacity: 0;
    }

    /* Hide search input by default on screens less than 760px */
    @media (max-width: 760px) {
        .search-inp {
            display: none;
            width: 0;
            opacity: 0;
        }

        .search-inp.show {
            display: inline-block;
            width: 8rem;
            /* Adjust width as needed */
            opacity: 1;
        }
    }

    /* Navbar general styling */
    .navbar .navbar-nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex: 1;
    }

    .navbar-nav .name {
        font-size: 1rem;
    }

    .navbar-expand .navbar-nav {
        flex-direction: row;
    }

    .navbar-nav .nav-item {
        flex: 1;
        text-align: center;
    }

    .form-inline {
        flex: 1;
        display: flex;
        justify-content: center;
    }

    /* Overlay */
    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: white;
        z-index: 1030;
        display: none;
        /* Hidden by default */
    }

    .overlay.show {
        display: block;
    }

    /* Media query for smaller screens (less than 760px) */
    @media (max-width: 760px) {
        .navbar-nav {
            flex-direction: row;
            text-align: center;
            width: 100%;
        }

        .navbar-nav .nav-link,
        .form-inline {
            width: auto;
            margin-bottom: 0.9rem;
        }

        .form-inline {
            margin-top: 10px;
        }

        .navbar-nav .name,
        .navbar-nav .search-btn {
            width: auto;
        }

        .navbar-nav {
            flex-direction: row;
            text-align: center;
            width: 100%;
        }

        .navbar-nav .search-btn,
        .navbar-nav .name,
        .navbar-nav .nav-link {
            display: inline-flex;
            align-items: center;
            margin: 0.5rem;
        }

        /* Hide the navbar-toggler (hamburger icon) */
        .navbagir-toggler {
            display: none;
        }

        .search-inp {
            margin-top: 0.8rem;
            border-radius: 25px;
            height: 30px;
            font-size: 0.875rem;
            padding: 0.25rem 0.75rem;
            border: 1px solid #ddd;
        }
    }
    @media (min-width: 760px) {
    .search-inp {
        width: 15rem; /* Adjust width as desired for larger screens */
    }
}
</style>

<nav class="navbar navbar-expand-md navbar-light bg-light border-bottom sticky-top">
    <a class="navbar-brand" href="/listing"><i class="fa-solid fa-tents"></i></a>
    <div class="navbar-nav">
        <!-- Search button and input form -->
        <form class="form-inline search-form" action="/search" method="GET">
            <input class="form-control search-inp" type="search" name="q" placeholder="Search destinations"
                aria-label="Search" />
        </form>
        <!-- "Destinate It" link -->
        <button class="btn search-btn" type="button">
            <i class="fa fa-magnifying-glass"></i>
        </button>
        <a class="nav-link name" href="/listing/new"><b><i class="fa-solid fa-location-dot"
                    style="color: #fe424d; font-size: medium;"></i></b></a>

        <!-- User login/logout links -->
        <% if (!currUser) { %>
            <a class="nav-link" href="/user/signup"><b><i class="fa-solid fa-user-plus"
                        style="color: #fe424d; font-size: medium;"></i></b></a>
            <a class="nav-link" href="/user/login"><b><i class="fa-solid fa-right-to-bracket"
                        style="color: #fe424d; font-size: medium;"></i></b></a>
            <% } %>
                <% if (currUser) { %>
                    <a class="nav-link" href="/user/logout"><i class="fa-solid fa-arrow-right-from-bracket"
                            style="color: #fe424d;"></i></a>
                    <% } %>
    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const overlay = document.querySelector('.overlay');
        const searchInp = document.querySelector('.search-inp');
        const searchBtn = document.querySelector('.search-btn');
        const navItems = document.querySelectorAll('.navbar-nav .nav-link, .navbar-nav .name');

        searchBtn.addEventListener('click', function (event) {
            event.preventDefault();

            if (window.innerWidth <= 760) {
                searchInp.classList.toggle('show');
                overlay.classList.toggle('show');
                navItems.forEach(item => item.style.display = searchInp.classList.contains('show') ? 'none' : 'inline-flex');
            } else {
                searchInp.focus();
            }
        });

        overlay.addEventListener('click', function () {
            searchInp1.classList.remove('show');
            overlay.classList.remove('show');
            navItems.forEach(item => item.style.display = 'inline-flex');
        });
    });
</script>